<div class="container" >
    <div class="mt-5 d-flex justify-content-center">
        <form action="">
            <select class="form-select mt-2" aria-label="Default select example" style="width: 500px;" name="category" id="category"
                onchange="submit()">
                <option selected>類別</option>
                {{#each categories}}
                <option value="{{this._id}}">{{this.categoryName}}</option>
                {{/each}}
            </select>
        </form>
    </div>
    <div class="mt-5 mb-5">
        <h4 class="mt-3">總金額:</h4>
        <div class="d-flex justify-content-center">
            <div style="font-size: 70px;">{{totalAmount}}</div>
        </div>
    </div>
    {{#each records}}
    <div class="row mb-3" style="border: 1px solid tomato;">
        <div class="col-auto mr-auto row">
                <i class="{{this.category.categoryIcon}}" style="font-size: 40px;"></i>
            <div>
                <h4 style="display: inline; vertical-align:middle;">{{this.name}}</h4>
                <h5>{{toDate this.date}}</h5>
            </div>
            <h3>{{this.amount}}</h3>
        </div>
        <div class="col-auto">
            <a class="btn" href="/record/{{this._id}}/edit">修改</a>
            <form action="/record/{{this._id}}?_method=DELETE" method="POST" style="display: inline;" class="ml-2">
                <button  type="submit">刪除</button>
            </form>              
        </div>
    </div>
    {{/each}}
    <a href="/record/new">
        <button type="button" class="btn btn-outline-info">新增支出</button>
    </a>
</div>